<!DOCTYPE html>
  <html>
    <head>
        <!--Import Google Icon Font-->
        <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

        <!-- 5 Star Rating CSS -->
        <link type="text/css" rel="newest stylesheet" href="style/css/rating.css"  media="screen,projection"/>

        <!--Import materialize.css-->
        <link type="text/css" rel="old stylesheet" href="style/css/materialize.min.css"  media="screen,projection"/>


        <!--Let browser know website is optimized for mobile-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

        <style>
            #map {
                width: 100%;
                height: 600px;
            }
        </style>
        
    </head>

    <body>

        <!-- Side Nav -->
        <ul id="slide-out" class="side-nav fixed">
            <li><div class="userView teal darken-3">
              <!-- <img class="background teal darken-3"> -->
              <center><a href="#!user"><img class="circle white" src="style/img/account.png"></a>
              <a href="#!name" ><span class="white-text name">John Doe</span></a>
              <a href="#!email"><span class="white-text email">jdandturk@gmail.com</span></a></center>
            </div></li>
            <!-- <li><a class="header">Request a Tutor</a></li>
            <a class="waves-effect waves-light red btn modal-trigger" href="#tutors-modal">ENG 101</a>
            <a class="waves-effect waves-light blue btn modal-trigger" href="#request-modal">MTH 141</a>
            <a class="waves-effect waves-light green btn modal-trigger" href="#account-modal">CHEM 107</a>
            <a class="waves-effect waves-light orange btn modal-trigger" href="#rating-modal">UGC 112</a>
             -->
            <!-- <li><div class="divider"></div></li> -->
            <li><a href="#!"><i class="material-icons">info</i>Account Information</a></li>
            <li><a href="#!"><i class="material-icons">credit_card</i>Payment Options</a></li>
            <li><a href="#!"><i class="material-icons">restore</i>History</a></li>
            <li><a href="#!"><i class="material-icons">warning</i>Report a Problem</a></li>

            <!-- <li><a class="waves-effect" href="#!">Third Link With Waves</a></li> -->
        </ul>

        <!-- Account Modal-->
        <div id="account-modal" class="modal" style="width: 500px;">
        
        <div id="account" class="modal-content">
            <div class="row">
                <div class="col s12">
                    <h5>Request a Tutor</h5>
                </div>
            </div>
                <div class="row">
                    <div class="col s6 push-s6">
                        <button class="waves-effect waves-light btn blue eng" style="width: 100%;">MTH 141</button>
                    </div>
                    <div class="col s6 pull-s6">
                        <a href="#" class="waves-effect waves-light btn red" style="width: 100%;">ENG 101</a>
                    </div>
                </div>
                <div class="row">
                    <div class="col s6 push-s6">
                        <a href="#" class="waves-effect waves-light btn orange" style="width: 100%;">UGC 112</a>
                    </div>
                    <div class="col s6 pull-s6">
                        <a href="#" class="waves-effect waves-light btn green" style="width: 100%;">CHEM 107</a>
                    </div>
                </div>
                <div class="row">
                    <div class="col s12 input-field">
                        <input id="location" type="text" placeholder="3rd Floor? Group Study 16?">
                        <label for="location">Location</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col s12 input-field">
                        <input id="question" type="text" placeholder="Assignment 10? Integrals?">
                        <label for="Question">What are you working on?</label>
                    </div>
                </div>
        </div>

        <div id="tutors" class="modal-content">
            <h4>Tutors in your area</h4>
            <ul class="collection" id="staggered-test">
                <a class="collection-item avatar" onclick="tutorClick();">
                    <img src="style/img/account.png" alt="" class="circle grey lighten-1">
                    <span class="title">Jian Yang</span>
                    <p>$15/hr</p>
                    <h5 class="secondary-content">4.9</h5>
                </a>

                <a class="collection-item avatar" href="#">
                    <img src="style/img/account.png" alt="" class="circle grey lighten-1">
                    <span class="title">Russ Hanneman</span>
                    <p>$20/hr</p>
                    <h5 class="secondary-content">3.7</h5>
                </a>

                <a class="collection-item avatar" href="#">
                    <img src="style/img/account.png" alt="" class="circle grey lighten-1">
                    <span class="title">Erlich Bachman</span>
                    <p>10% of your company</p>
                    <h5 class="secondary-content">0.6</h5>
                </a>

                <a class="collection-item avatar" href="#">
                    <img src="style/img/account.png" alt="" class="circle grey lighten-1">
                    <span class="title">Jon Snow</span>
                    <p>Priceless</p>
                    <h5 class="secondary-content">0.0</h5>
                </a>
            </ul>
          </div>

          <div id="request" class="modal-content">
                <center><div class="preloader-wrapper big active">
                    <div class="spinner-layer spinner-blue-only">
                      <div class="circle-clipper left">
                        <div class="circle"></div>
                      </div><div class="gap-patch">
                        <div class="circle"></div>
                      </div><div class="circle-clipper right">
                        <div class="circle"></div>
                      </div>
                    </div>
                </div>
                <p id="loading-message"></p>
                
            </div>
        </div>

        <!-- Request Modal -->
       <!--  <div id="request-modal" class="modal" style="width: 500px;">
            <div id="request" class="modal-content">
                <center><div class="preloader-wrapper big active">
                    <div class="spinner-layer spinner-blue-only">
                      <div class="circle-clipper left">
                        <div class="circle"></div>
                      </div><div class="gap-patch">
                        <div class="circle"></div>
                      </div><div class="circle-clipper right">
                        <div class="circle"></div>
                      </div>
                    </div>
                </div>
                <p>Requesting a Tutor</p>
                <button id="button" class="btn">Here is a button</button></center>

                <p id="here">This better be hidden</p>
                
            </div>
            
        </div>
 -->
        <!-- Tutors Modal-->
        <div id="tutors-modal" class="modal" style="width: 600px;">
            <div id="tutors" class="modal-content">
            <h4>Tutors in your area</h4>
            <ul class="collection">
              <li class="collection-item avatar">
                <img src="style/img/account.png" alt="" class="circle grey lighten-1">
                <span class="title">Jin Yang</span>
                <p>$15/hr</p>
                <a href="#!" class="secondary-content"><h5>4.9</h5></a>
              </li>
              <li class="collection-item avatar">
                <img src="style/img/account.png" alt="" class="circle grey lighten-1">
                <span class="title">Russ Hanneman</span>
                <p>$20/hr</p>
                <a href="#!" class="secondary-content"><h5>3.7</h5></a>
              </li>
              <li class="collection-item avatar">
                <img src="style/img/account.png" alt="" class="circle grey lighten-1">
                <span class="title">Erlich Bachman</span>
                <p>10% of your company</p>
                <a href="#!" class="secondary-content"><h5>0.6</h5></a>
              </li>
              <li class="collection-item avatar">
                <img src="style/img/account.png" alt="" class="circle grey lighten-1">
                <span class="title">Jon Snow</span>
                <p>Priceless</p>
                <a href="#!" class="secondary-content"><h5>0.0</h5></a>
              </li>
            </ul>
          </div>
        </div>

        <!-- Rating Modal -->
        <div id="rating-modal" class="modal" style="width: 500px;">
            <div class="modal-content">
                <center><h4>$17.38</h4></center>
                <br>
                <!-- use radio inputs -->
                <center><div class="rating">
                    <!-- <span>&#9734;</span>
                    <span>&#9734;</span>
                    <span>&#9734;</span>
                    <span>&#9734;</span>
                    <span>&#9734;</span> -->
                    <form class="rating" action="#">
        <!-- <legend>Please Rate:</legend> -->
        <input type="radio" id="star5" name="rating" value="5" /><label for="star5"></label>
        <input type="radio" id="star4" name="rating" value="4" /><label for="star4"></label>
        <input type="radio" id="star3" name="rating" value="3" /><label for="star3"></label>
        <input type="radio" id="star2" name="rating" value="2" /><label for="star2"></label>
        <input type="radio" id="star1" name="rating" value="1" /><label for="star1"></label>
    </form><!-- 
                    <input type="radio" id="star1half" name="rating" value="1 and a half" /><label class="half" for="star1half" title="Meh - 1.5 stars"></label>
                    <input type="radio" id="star1half" name="rating" value="1 and a half" /><label class="half" for="star1half" title="Meh - 1.5 stars"></label>
                    <input type="radio" id="star1half" name="rating" value="1 and a half" /><label class="half" for="star1half" title="Meh - 1.5 stars"></label>
                    <input type="radio" id="star1half" name="rating" value="1 and a half" /><label class="half" for="star1half" title="Meh - 1.5 stars"></label>
                    <input type="radio" id="star1half" name="rating" value="1 and a half" /><label class="half" for="star1half" title="Meh - 1.5 stars"></label> -->
                </div></center>
                
            </div>
            <div class="modal-footer"><a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Submit</a></div>
        </div>

        <!-- Nav Bar -->
        <div class="navbar-fixed">
            <nav>
              <div class="nav-wrapper white">
                <a href="#" data-activates="slide-out" class="button"><i class="material-icons">menu</i></a>
                <!-- <a href="#" class="brand-logo center">Logo</a> -->

                <!-- TODO(zmwieand): center the logo? -->
                <!-- <a href="#!" class="brand-logo">Logo</a> -->

                <ul class="right hide-on-med-and-down">
                </ul>
              </div>
            </nav>
        </div>

        <!-- Map View -->
        <div id="map"></div>
        
        <script>
        var map;
        var myLatLng = {lat: -25.363, lng: 131.044};

      function initMap() {

        var mapDiv = document.getElementById('map');
        map = new google.maps.Map(mapDiv, {
            center: myLatLng,
            zoom: 17
        });

        var marker = new google.maps.Marker({
          position: myLatLng,
          map: map,
          title: 'Hello World!'
        });


        marker.addListener('click', function() {
          $("#account-modal").openModal(function() {console.log("HERE")});
        });
      }

        function findCenter(lat1, long1, lat2, long2) {
            return {lat: (lat1 + lat2)/2, lng: (long1 + long2)/2};
        }

        function tutorClick() {

            $('#tutors').hide();
            $('#request').show();
            $("#loading-message").text("Contacting Jian Yang ...");

            window.setTimeout(function() {
                $('#account-modal').closeModal(function() {});
                var tutorLocation = {lat: -25.359, lng: 131.048};
                var center = findCenter(tutorLocation["lat"], tutorLocation["lng"],
                                        myLatLng["lat"], myLatLng["lng"]);

                window.setTimeout(function() {
                    map.setZoom(16);
                    map.setCenter(center);
                    window.setTimeout(function() {
                        new google.maps.Marker({
                            position: tutorLocation,
                            map: map,
                            animation: google.maps.Animation.DROP
                        });
                        Materialize.toast("Jian Yang is on his way!", 4000);
                    }, 1000);
                }, 200);
            }, 2000);
        }
    </script>
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC0qiL1nz_rW0vB-AlBjqQw6RbyS_N0wwI&callback=initMap">
    </script>
        

        <!--Import jQuery before materialize.js-->
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <script type="text/javascript" src="style/js/materialize.min.js"></script>

        <script>$(".button").sideNav();</script>
        <script>$(".modal-trigger").leanModal();</script>

        <script>
            $("#tutors").hide();
            $("#request").hide();
            $("button").click(function() {
                $("#account").hide();
                $("#request").show();
                $("#loading-message").text("Finding Tutor's in your area ...");
                setTimeout(function() {
                    $("#request").hide();
                    $("#tutors").show();
                    Materialize.showStaggeredList('#staggered-test');
                }, 3000);
            });
        </script>

        <!-- Add in a dissmissle function for the request to reverse the current show and hide --> 
        
    </body>
</html>

