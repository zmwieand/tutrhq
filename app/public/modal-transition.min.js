var URL="http://localhost:3000";$(document).ready(function(){function e(i,m,k,h,g,j,l){a=$("<a></a>");a.addClass("collection-item avatar");a.on("click",function(n){d(g,j,l);$("#tutors").hide();$("#request").show();$("#loading-message").text("Contacting "+i+" ...")});img=$("<img>");img.addClass("circle");img.attr("src",h);s=$("<span></span>");s.addClass("title");s.text(i);p=$("<p></p>");p.text("$"+m+"/hr");h5=$("<h5></h5>");h5.addClass("secondary-content");h5.text(k);a.append(img);a.append(s);a.append(p);a.append(h5);return a}function d(g,h,i){socket.emit("send notification",g,h,i);console.log("sending a notification to: "+g)}function c(g,h){socket.emit("send accept","tmweppne@buffalo.edu","zmwieand@buffalo.edu")}function f(g,h){socket.emit("send decline",g,h)}$("#tutors").hide();$("#request").hide();$(".eng").click(function(){$("#account").hide();$("#request").show();$("#loading-message").text("Finding Tutor's in your area ...");$.ajax({url:URL+"/match/request_tutor",type:"GET",success:function(h){if(h.length==0){$("#area-tutors").append("<p class='center-align'><i>Sorry, there are no tutors in your area at this time<br>Please try again later</i>.</p>")}for(var g in h){var j=h[g];$("#area-tutors").append(e(j.first_name+" "+j.last_name,j.price,j.rating,j.pic,j.email_address,j.sender,j.sender_pic))}$("#request").hide();$("#tutors").show()}})});var b='<div class="row"><div class="col s10"><select class="browser-default" name="course"><option disabled selected>Select your course</option><option value="CSE 115">CSE 115</option><option value="MTH 141">MTH 141</option><option value-"UGC 112">UGC 112</option><option value="ENG 101">ENG 101</option></select></div><div class="col s2"><a class="btn red remove_course_button"><i class="material-icons">close</i></a></div></div>';$("#add_course_button").click(function(g){g.preventDefault();$(".wrapper").append(b);x+=1});$(".wrapper").on("click",".remove_course_button",function(g){g.preventDefault();$(this).parents("div")[1].remove()});$("#tutor-switch").on("click",function(){if($(this).is(":checked")){$.ajax({url:URL+"/users/tutor_online",type:"GET",success:function(g){Materialize.toast("You are now an available Tutor!",5000)}})}else{$.ajax({url:URL+"/users/tutor_offline",type:"GET",success:function(g){Materialize.toast("You are now offline",5000)}})}});$("#start-button").hide();$("#stop-button").hide();$("#start-button").click(function(){$("#stop-button").show();$("#start-button").hide();socket.emit("send start session")});$("#stop-button").click(function(){$("#stop-button").hide();socket.emit("send end session")});$("#notify-btn").click(function(){console.log("I am pressing the button");socket.emit("test","tmweppne@buffalo.edu",true,"hullo","https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg")});$("#start-btn").click(function(){socket.emit("send start session");$("#stop-btn").attr("disabled",false);$("#cancel-btn").attr("disabled",true);$("#start-btn").attr("disabled",true)});$("#stop-btn").attr("disabled",true);$("#stop-btn").click(function(){socket.emit("send end session")});$("#rating-btn").click(function(){var g=$("#rating").val();$.ajax({url:URL+"/users/rate",type:"POST",data:{rating:g},success:function(h){console.log("finished rating");$("#rating-modal").closeModal()}})})});