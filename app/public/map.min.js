var map;var marker;var myLatLng={lat:42.9977999,lng:-78.7882364};var directionsService;var directionsDisplay;function initMap(){var a=document.getElementById("map");directionsService=new google.maps.DirectionsService;directionsDisplay=new google.maps.DirectionsRenderer;map=new google.maps.Map(a,{zoom:17,streetViewControl:false,mapTypeControl:false,zoomControl:false});marker=new google.maps.Marker({map:map});marker.addListener("click",function(){$("#account-modal").openModal({complete:function(){$("#tutors").hide();$("#request").hide();$("#account").show();$("#area-tutors").empty()}})});directionsDisplay.setMap(map);$.ajax({url:URL+"/users/get_location",type:"GET",success:function(c){console.log("done");var b=new google.maps.LatLng(parseFloat(c.lat),parseFloat(c.lng));marker.setPosition(b);map.setCenter(b)}})}function findCenter(d,c,b,a){return{lat:(d+b)/2,lng:(c+a)/2}}function calculateAndDisplayRoute(b,a){directionsService.route({origin:b,destination:a,travelMode:"WALKING"},function(d,c){if(c==="OK"){directionsDisplay.setDirections(d)}else{window.alert("Directions request failed due to "+c)}})}function tutorClick(){$("#tutors").hide();$("#request").show();$("#loading-message").text("Contacting Jian Yang ...");window.setTimeout(function(){$("#account-modal").closeModal(function(){});var b={lat:42.999999,lng:-78.78891};var a=findCenter(b.lat,b.lng,myLatLng.lat,myLatLng.lng);window.setTimeout(function(){map.setZoom(16);map.setCenter(a);var c;window.setTimeout(function(){c=new google.maps.Marker({position:b,map:map,animation:google.maps.Animation.DROP});c.addListener("click",function(){$("#rating-modal").openModal(function(){})});Materialize.toast("Jian Yang is on his way!",4000)},1000)},200)},2000)};